<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <title>upload</title>
</head>

<!-- CSS -->
<style>
    .uploadArea{
        width: 700px;
        margin: 20px auto 20px auto;
    }
</style>

<!-- Script -->
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-analytics.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";
    import { getDocs } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyAKjcJLmdVzvNRZmJk804W79HEM3NsRbjg",
        authDomain: "miniproject-723c8.firebaseapp.com",
        projectId: "miniproject-723c8",
        storageBucket: "miniproject-723c8.appspot.com",
        messagingSenderId: "889738976151",
        appId: "1:889738976151:web:f68da73f7e9065f7b182d2",
        measurementId: "G-MP5MDK00TR"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getFirestore(app);

    
    $("#uploadBtn").click(async function () {
        // alert("test");
        let image = $('#image').val();
        let mbti = $('#mbti').val();
        let blog = $('#blog').val();
        let explanation = $('#explanation').val();

        let doc = {
            'image': image,
            'mbti': mbti,
            'blog': blog,
            'explanation': explanation
        };
        await addDoc(collection(db, "test"), doc);
        alert("저장 완료");
        window.location.reload();
    })
</script>


<!-- Body -->
<body>
    <div class="uploadArea" id="uploadArea">
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="image" placeholder="이미지 주소">
            <label for="floatingInput">이미지 주소</label>
        </div>
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="mbti" placeholder="mbti">
            <label for="floatingInput">MBTI</label>
        </div>
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="blog" placeholder="블로그 주소">
            <label for="floatingInput">블로그 주소</label>
        </div>
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="explanation" placeholder="설명">
            <label for="floatingInput">설명</label>
        </div>
        <button type="button" class="btn btn-outline-dark" id="uploadBtn">업로드 하기</button>
    </div>
</body>
</html>